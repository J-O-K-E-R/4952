@model _4952.Models.FileViewModel
@{
    ViewBag.Title = "Home Page";
}

<script src="~/Scripts/Crypto/rollups/aes.js" type="text/javascript"></script>
<script src="~/Scripts/Submit.js" type="text/javascript"></script>

<div class="sidebar">
    <form class="search">
        <div class="row">
            <div id="search-bar">
                @using (Html.BeginForm("Index", "Home", FormMethod.Get)) {
                    <input type="text" id="search-box" class="form-control" name="SearchString" placeholder="Search" />
                    <input type="submit" class="btn btn-warning" value="Search" id="search-button" />
                }
            </div>
        </div>
    </form>
    <br />

    <!-- pulled the html from the webpage.  need to dump the file into this.-->
    <form action="/Home/Index" enctype="multipart/form-data" method="post" id="myForm">
        <input data-val="true" data-val-required="The filePosted field is required." id="filePosted" name="filePosted" type="file" value="">
        <span class="field-validation-valid" data-valmsg-for="filePosted" data-valmsg-replace="true"></span>   
        <br>
        <button type="button" class="btn btn-success btn-lg" onclick="encrypt()">Upload</button>
        <!-- Gross hacky invisible form fields -->
        <input type="text" id="fileData" name="fileData" hidden="hidden"/>
        <input type="text" id="fileName" name="fileName" hidden="hidden"/>
        <button type="submit" id="fileSubmit" hidden="hidden"></button>
    </form>

    <br />
    <div class="logout">
        <button class="btn btn-warning"> Logout </button>
    </div>
</div>

<div class="content">
    @using (Html.BeginForm("FileSelected", "Home", FormMethod.Post))
    {
        <div class="topbar">
            <div id="topbuttons">
                <input type="submit" class="btn btn-success" name="submitButton" value="Download" />
                <button class="btn btn-warning">Create Folder</button>
                <button class="btn btn-warning">Move To</button>
                <input type="submit" class="btn btn-danger" name="submitButton" value="Delete" />
            </div>
            <input type="text" class="form-control" id="hashField" placeholder="Encryption string" />
        </div>
        <br />
        <input type="radio" name="rGroup" id="goat" checked="checked" hidden="hidden" />
        <label class="fileContainer" for="goat">
            @foreach (_4952.Models.FileMetadata f in Model.fileMetadataList)
            {
                @Html.Partial("fileBox", f)
            }
        </label>
    }
</div>