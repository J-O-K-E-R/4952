@model _4952.Models.FileViewModel
@{
    ViewBag.Title = "Home Page";
}

<script src="~/Scripts/Crypto/rollups/aes.js" type="text/javascript"></script>
<script src="~/Scripts/jquery-1.10.2.min.js" type="text/javascript"></script>
<script src="~/Scripts/Submit.js" type="text/javascript"></script>

<div class="sidebar">
    <form class="search">
        <div class="row">
            <div id="search-bar">
                @using (Html.BeginForm("Index", "Home", FormMethod.Get))
                {
                    <input type="text" id="search-box" class="form-control" name="SearchString" placeholder="Search" />
                    <input type="submit" class="btn btn-warning" value="Search" id="search-button" />
                }
            </div>
        </div>
    </form>
    <br />

    <input data-val="true" data-val-required="The filePosted field is required." id="filePosted" name="filePosted" type="file" value="">
    <span class="field-validation-valid" data-valmsg-for="filePosted" data-valmsg-replace="true"></span>
    <br>
    <button type="button" class="btn btn-success btn-lg" onclick="upload()">Upload</button>
    <!-- pulled the html from the webpage.  need to dump the file into this.-->
    <form action="/Home/Index" enctype="multipart/form-data" method="post" id="uploadForm">
        <br /><br />
        <p id="fileDetails1">
            No file selected.
        </p>
        <p id="fileDetails2"> </p>
    </form>

    <br /><br />

    <div class="logout">
        <button class="btn btn-warning" onclick="location.href='@Url.Action("Logout", "MyAccount")'"> Logout </button>
    </div>
</div>

<div class="content">

    <div class="topbar">
        <div id="topbuttons">
            <button type="button" class="btn btn-success" onclick="download()">Download</button>
            <button type="button" class="btn btn-danger" onclick="deleteFile()">Delete</button>
        </div>
        <input type="text" class="form-control" id="hashField" placeholder="Encryption string" />
    </div>
    <br />
    @using (Html.BeginForm())
    {
        <input type="radio" name="rGroup" id="goat" checked="checked" hidden="hidden" />
        <label class="fileContainer" for="goat">
            @foreach (_4952.Models.FileMetadata f in Model.fileMetadataList)
            {
                @Html.Partial("fileBox", f)
            }
        </label>
    }
</div>